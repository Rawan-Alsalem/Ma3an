<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tour Detail - {{ tour.name }}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% load static %}
</head>
<body class="bg-light">

<div class="container my-5">

    <div class="card mb-4 p-4">
        <h2>{{ tour.name }}</h2>
        <p>{{ tour.description }}</p>
        <p><strong>Country:</strong> {{ tour.country }} | <strong>City:</strong> {{ tour.city }}</p>
        <p><strong>Travelers:</strong> {{ tour.travelers }} | <strong>Price:</strong> {{ tour.price }} SAR</p>
        <p><strong>Start Date:</strong> {{ tour.start_date }} | <strong>End Date:</strong> {{ tour.end_date }}</p>
        <p><strong>TourGuide:</strong> {{ tour.tour_guide.user.username }}</p>

        {% if tour.image %}
            <img src="{{ tour.image.url }}" class="img-fluid rounded" alt="Tour Image">
        {% else %}
            <img src="{% static 'images/default-tour.jpg' %}" class="img-fluid rounded" alt="Default Tour Image">
        {% endif %}
    </div>

    <h3>Schedule</h3>
    {% if schedules %}
        {% for schedule in schedules %}
            <div class="card mb-2 p-2">
                <strong>Day {{ schedule.day_number }}</strong><br>
                {{ schedule.activity_title }} ({{ schedule.start_time }} - {{ schedule.end_time }})<br>
                Location: {{ schedule.location_name }} {% if schedule.location_url %}(<a href="{{ schedule.location_url }}" target="_blank">link</a>){% endif %}<br>
                Description: {{ schedule.description }}
            </div>
        {% endfor %}
    {% else %}
        <p>No schedule added yet.</p>
    {% endif %}

    <div class="mt-4">
        <a href="{% url 'agency:dashboard' %}" class="btn btn-primary">Back to Dashboard</a>
    </div>

</div>
</body>
</html>
